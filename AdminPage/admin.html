<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="admin.css" type="text/css">
</head>
<body ng-app="SBCAdmin" ng-controller="AppController">
    <br />
    <div class="container">
        <ul class="nav nav-pills nav-fill">
            <li class="nav-item" ng-repeat="tab in tabs">
                <a class="nav-link" href="#" ng-class="{'active': $index == currentTab}" ng-click="changeTab($index)">{{tab}}</a>
            </li>
        </ul>
        <br />
        <div ng-show="currentTab === 0">
            <div class="modal fade" id="crudCourseModal" tabindex="-1" role="dialog" aria-labelledby="crudCourseModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="crudCourseModalTitle">{{crudStates.course}} Course: {{new.course.name}}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="form-group">
                                    <label for="courseName">Name</label>
                                    <input type="name" ng-model="new.course.name" class="form-control" id="courseName">
                                </div>
                                <div class="form-group">
                                    <label for="courseDescription">Description</label>
                                    <textarea class="form-control" ng-model="new.course.description" id="courseDescription" rows="3"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" ng-click="clearCrudCourseModal()" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                            <button type="button" ng-click="crudCourse()" class="btn btn-primary" data-dismiss="modal">{{crudStates.course}} Course</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="crudUnitModal" tabindex="-1" role="dialog" aria-labelledby="crudUnitModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="crudUnitModalTitle">{{crudStates.unit}} Unit: {{new.unit.name}}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="form-group">
                                    <label for="unitName">Name</label>
                                    <input type="name" ng-model="new.unit.name" class="form-control" id="unitName">
                                </div>
                                <div class="form-group">
                                    <label for="unitDescription">Description</label>
                                    <textarea class="form-control" ng-model="new.unit.description" id="unitDescription" rows="3"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" ng-click="clearCrudUnitModal()" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                            <button type="button" ng-click="crudUnit()" class="btn btn-primary" data-dismiss="modal">{{crudStates.unit}} Unit</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="crudLessonModal" tabindex="-1" role="dialog" aria-labelledby="crudLessonModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="crudLessonModalTitle">{{crudStates.lesson}} Lesson: {{new.lesson.name}}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="form-group">
                                    <label for="lessonName">Name</label>
                                    <input type="name" ng-model="new.lesson.name" class="form-control" id="lessonName">
                                </div>
                                <div class="form-group">
                                    <label for="lessonDescription">Description</label>
                                    <textarea class="form-control" ng-model="new.lesson.description" id="lessonDescription" rows="3"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" ng-click="clearCrudLessonModal()" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                            <button type="button" ng-click="crudLesson()" class="btn btn-primary" data-dismiss="modal">{{crudStates.lesson}} Lesson</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="reorderCoursesModal" tabindex="-1" role="dialog" aria-labelledby="reorderCoursesModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="reorderCoursesModalTitle">Reorder Courses</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <ul class="list-group">
                                <li class="list-group-item" ng-repeat="course in reorderedCourses">
                                    <svg ng-click="shiftCourseUp($index)" class="bi bi-chevron-up shiftOrderIcon" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"/>
                                    </svg>
                                    <svg ng-click="shiftCourseDown($index)" style="margin-left: 5px;" class="bi bi-chevron-down shiftOrderIcon" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>
                                    </svg>
                                    <span style="margin-left: 10px;">{{course.name}}</span>
                                </li>
                            </ul>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                            <button type="button" ng-click="reorderCourses()" class="btn btn-primary" data-dismiss="modal">Reorder Courses</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="reorderUnitsModal" tabindex="-1" role="dialog" aria-labelledby="reorderUnitsModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="reorderUnitsModalTitle">Reorder Units</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <ul class="list-group">
                                <li class="list-group-item" ng-repeat="unit in reorderedUnits">
                                    <svg ng-click="shiftUnitUp($index)" class="bi bi-chevron-up shiftOrderIcon" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"/>
                                    </svg>
                                    <svg ng-click="shiftUnitDown($index)" style="margin-left: 5px;" class="bi bi-chevron-down shiftOrderIcon" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>
                                    </svg>
                                    <span style="margin-left: 10px;">{{unit.name}}</span>
                                </li>
                            </ul>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                            <button type="button" ng-click="reorderUnits()" class="btn btn-primary" data-dismiss="modal">Reorder Units</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="reorderLessonsModal" tabindex="-1" role="dialog" aria-labelledby="reorderLessonsModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="reorderLessonsModalTitle">Reorder Lessons</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <ul class="list-group">
                                <li class="list-group-item" ng-repeat="lesson in reorderedLessons">
                                    <svg ng-click="shiftLessonUp($index)" class="bi bi-chevron-up shiftOrderIcon" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 01.708 0l6 6a.5.5 0 01-.708.708L8 5.707l-5.646 5.647a.5.5 0 01-.708-.708l6-6z" clip-rule="evenodd"/>
                                    </svg>
                                    <svg ng-click="shiftLessonDown($index)" style="margin-left: 5px;" class="bi bi-chevron-down shiftOrderIcon" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 01.708 0L8 10.293l5.646-5.647a.5.5 0 01.708.708l-6 6a.5.5 0 01-.708 0l-6-6a.5.5 0 010-.708z" clip-rule="evenodd"/>
                                    </svg>
                                    <span style="margin-left: 10px;">{{lesson.name}}</span>
                                </li>
                            </ul>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                            <button type="button" ng-click="reorderLessons()" class="btn btn-primary" data-dismiss="modal">Reorder Lessons</button>
                        </div>
                    </div>
                </div>
            </div>
            <table style="width: 100%;">
                <tr>
                    <td style="width: 33.333%;">
                        <div class="directoryContainer">
                            <div class="titleItem">
                                Courses
                                <svg ng-click="launchReorderCoursesModal()" ng-hide="courses.length === 0" data-toggle="modal" data-target="#reorderCoursesModal" class="bi bi-arrow-up-down reorderIcon" width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M11 3.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V4a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L11 3.707 8.354 6.354a.5.5 0 11-.708-.708l3-3zm-9 7a.5.5 0 01.708 0L5 12.293l2.646-2.647a.5.5 0 11.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M5 2.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V3a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="directoryList">
                                <div class="directoryItemContainer" ng-repeat="course in courses">
                                    <div class="directoryItem" ng-class="{'selected': selectedCourse === $index}" ng-click="changeSelectedCourse($index)">
                                        <div class="boldText">
                                            {{course.name}}
                                        </div>
                                        <div>{{course.description}}</div>
                                    </div>
                                    <div class="directoryItemActions">
                                        <svg data-toggle="modal" data-target="#crudCourseModal" ng-click="launchEditCourseModal($index)" class="bi bi-pencil" width="1.25em" height="1.25em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/>
                                        </svg>
                                        <svg class="bi bi-x" width="1.25em" height="1.25em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="emptyMessage" ng-show="courses.length === 0">There are no courses.</div>
                            </div>
                            <div class="actionItem" data-toggle="modal" data-target="#crudCourseModal" ng-click="launchCreateCourseModal()">
                                <span>+ Create New Course</span>
                            </div>
                        </div>
                    </td>
                    <td style="width: 33.333%;">
                        <div class="directoryContainer">
                            <div class="titleItem">
                                Units
                                <svg ng-click="launchReorderUnitsModal()" ng-hide="units.length === 0" data-toggle="modal" data-target="#reorderUnitsModal" class="bi bi-arrow-up-down reorderIcon" width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M11 3.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V4a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L11 3.707 8.354 6.354a.5.5 0 11-.708-.708l3-3zm-9 7a.5.5 0 01.708 0L5 12.293l2.646-2.647a.5.5 0 11.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M5 2.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V3a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="directoryList">
                                <div class="directoryItemContainer" ng-repeat="unit in units">
                                    <div class="directoryItem" ng-class="{'selected': selectedUnit === $index}" ng-click="changeSelectedUnit($index)">
                                        <div class="boldText">{{unit.name}}</div>
                                        <div>{{unit.description}}</div>
                                    </div>
                                    <div class="directoryItemActions">
                                        <svg data-toggle="modal" data-target="#crudUnitModal" ng-click="launchEditUnitModal($index)" class="bi bi-pencil" width="1.25em" height="1.25em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/>
                                        </svg>
                                        <svg class="bi bi-x" width="1.25em" height="1.25em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="emptyMessage" ng-show="selectedCourse === null">Select a course to see its units.</div>
                                <div class="emptyMessage" ng-show="selectedCourse !== null && units.length === 0">There are no units in this course.</div>
                            </div>
                            <div class="actionItem" data-toggle="modal" data-target="#crudUnitModal" ng-click="launchCreateUnitModal()" ng-class="{'disabled': selectedCourse === null}">
                                <span>+ Create New Unit</span>
                            </div>
                        </div>
                    </td>
                    <td style="width: 33.333%;">
                        <div class="directoryContainer">
                            <div class="titleItem">
                                Lessons
                                <svg ng-click="launchReorderLessonsModal()" ng-hide="lessons.length === 0" data-toggle="modal" data-target="#reorderLessonsModal" class="bi bi-arrow-up-down reorderIcon" width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M11 3.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V4a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M10.646 2.646a.5.5 0 01.708 0l3 3a.5.5 0 01-.708.708L11 3.707 8.354 6.354a.5.5 0 11-.708-.708l3-3zm-9 7a.5.5 0 01.708 0L5 12.293l2.646-2.647a.5.5 0 11.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M5 2.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V3a.5.5 0 01.5-.5z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div class="directoryList">
                                <div class="directoryItemContainer" ng-repeat="lesson in lessons">
                                    <div class="directoryItem" ng-class="{'selected': selectedLesson === $index}" ng-click="changeSelectedLesson($index)">
                                        <div class="boldText">{{lesson.name}}</div>
                                        <div>{{lesson.description}}</div>
                                    </div>
                                    <div class="directoryItemActions">
                                        <svg data-toggle="modal" data-target="#crudLessonModal" ng-click="launchEditLessonModal($index)" class="bi bi-pencil" width="1.25em" height="1.25em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/>
                                        </svg>
                                        <svg class="bi bi-x" width="1.25em" height="1.25em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="emptyMessage" ng-show="selectedUnit === null">Select a unit to see its lessons.</div>
                                <div class="emptyMessage" ng-show="selectedUnit !== null && lessons.length === 0">There are no lessons in this unit.</div>
                            </div>
                            <div class="actionItem" data-toggle="modal" data-target="#crudLessonModal" ng-click="launchCreateLessonModal()" ng-class="{'disabled': selectedUnit === null}">
                                <span>+ Create New Lesson</span>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div ng-show="currentTab === 1">
            <div class="grid row equal">
                <div class="col-sm-12">
                    <table style="width: 100%;">
                        <tr>
                            <td style="width: 100%;">
                                <div class="input-group mb-3" style="margin-bottom: 0 !important;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="searchGroupsLabel">
                                            <svg class="bi bi-search" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z" clip-rule="evenodd"/>
                                              <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="searchGroups" ng-model="groupsQuery" placeholder="Search for Groups">
                                </div>
                            </td>
                            <td style="width: auto;">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#crudGroupModal" ng-click="launchCreateGroupModal()">Create Group</button>
                            </td>
                        </tr>
                    </table>
                    <div class="modal fade" id="crudGroupModal" tabindex="-1" role="dialog" aria-labelledby="crudGroupModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="crudGroupModalTitle">{{crudStates.group}} Group: {{new.group.name}}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form>
                                        <div class="form-group">
                                            <label for="groupName">Name</label>
                                            <input type="name" ng-model="new.group.name" class="form-control" id="groupName">
                                        </div>
                                        <div class="form-group">
                                            <label for="groupDescription">Description</label>
                                            <textarea class="form-control" ng-model="new.group.description" id="groupDescription" rows="3"></textarea>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" ng-click="clearCrudGroupModal()" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                                    <button type="button" ng-click="crudGroup()" class="btn btn-primary" data-dismiss="modal">{{crudStates.group}} Group</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal fade" id="changeGroupMembershipModal" tabindex="-1" role="dialog" aria-labelledby="changeGroupMembershipModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="changeGroupMembershipModalTitle">Change Membership: {{groups[currentGroupMembership].name}}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <input type="name" ng-model="groupMembershipQuery" class="form-control" id="groupMembershipQuery" placeholder="Search for Users...">
                                    <br>
                                    <ul class="list-group">
                                        <li class="list-group-item groupMembershipItem" ng-repeat="user in groupMembership" ng-show="user.name.toLowerCase().includes(groupMembershipQuery.toLowerCase()) || !groupMembershipQuery" ng-click="selectUserMembership($index)" ng-class="{'bg-primary': user.selected, 'whiteText': user.selected}">
                                            <span style="margin-left: 10px;">{{user.name}}</span>
                                            <svg ng-show="user.selected" style="float: right;" class="bi bi-check" width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                            </svg>
                                        </li>
                                    </ul>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                                    <button type="button" ng-click="changeGroupMembership()" class="btn btn-primary" data-dismiss="modal">Change</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                </div>
                <div class="col-sm-6 col-lg-4 d-flex pb-3" ng-repeat="group in groups" ng-hide="!group.name.toLowerCase().includes(groupsQuery.toLowerCase()) && !group.description.toLowerCase().includes(groupsQuery.toLowerCase()) && groupsQuery">
                    <div class="card groupCard">
                        <div class="card-body">
                            <h5 class="card-title">{{group.name}}</h5>
                            <h6 class="card-subtitle mb-2">{{group.users.length}} Users</h6>
                            <p class="card-text">{{group.description}}</p>
                            <div style="visibility: hidden;">
                                <a class="card-link">Filler</a>
                            </div>
                            <div class="groupActions">
                                <a href="#" class="card-link" data-toggle="modal" data-target="#crudGroupModal" ng-click="launchEditGroupModal($index)">Edit</a>
                                <a href="#" class="card-link" data-toggle="modal" data-target="#changeGroupMembershipModal" ng-click="launchChangeGroupMembershipModal($index)">Change Membership</a>
                                <a href="#" class="card-link" ng-click="deleteGroup($index)">Delete</a>
                            </div>
                        </div>
                    </div>
                    <div class="hidden-md hidden-lg hidden-xl"><br/></div>
                </div>
            </div>
        </div>
        <div ng-show="currentTab == 2">
            <div class="grid row">
                <div class="col-sm-12">
                    <table style="width: 100%;">
                        <tr>
                            <td style="width: 100%;">
                                <div class="input-group mb-3" style="margin-bottom: 0 !important;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="searchUsersLabel">
                                            <svg class="bi bi-search" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z" clip-rule="evenodd"/>
                                              <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="searchUsers" ng-model="usersQuery" placeholder="Search for Users">
                                </div>
                            </td>
                            <td style="width: auto;">
                                <button type="button" id="showStudents" class="btn btn-outline-primary" ng-click="toggleShowStudents()">{{showStudents ? 'Hide': 'Show'}} Students</button>
                            </td>
                        </tr>
                    </table>
                    <div class="modal fade" id="crudUserModal" tabindex="-1" role="dialog" aria-labelledby="crudUserModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="crudUserModalTitle">{{crudStates.user}} User: {{new.user.name}}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form>
                                        <div class="form-group">
                                            <label for="userName">Name</label>
                                            <input type="name" ng-model="new.user.name" class="form-control" id="userName">
                                        </div>
                                        <div class="form-group">
                                            <label for="userDateOfBirth">Date of Birth</label>
                                            <input type="date" ng-model="new.user.dateOfBirth" class="form-control" id="userDateOfBirth">
                                        </div>
                                        <div class="form-group">
                                            <label for="userType">User Type</label>
                                            <select class="form-control" ng-model="new.user.userType" id="userType">
                                                <option value="1">Student</option>
                                                <option value="2">Admin</option>
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" ng-click="clearCrudUserModal()" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                                    <button type="button" ng-click="crudUser()" class="btn btn-primary" data-dismiss="modal">{{crudStates.user}} User</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                </div>
                <div class="col-sm-6 col-lg-4" ng-repeat="user in users" ng-hide="(!showStudents && user.userType === '1') || (!user.name.toLowerCase().includes(usersQuery.toLowerCase()) && usersQuery)">
                    <div class="card" ng-class="{'bg-primary': user.userType === '2', 'text-white': user.userType === '2'}">
                        <div class="card-body">
                            <h5 class="card-title">{{user.name}}</h5>
                            <h6 class="card-subtitle mb-2">Joined: {{user.dateJoined | date: 'M/d/yyyy h:mm a'}}</h6>
                            <p class="card-text">Birthday: {{user.dateOfBirth | date: 'MMMM d, yyyy'}}</p>
                            <a href="#" class="card-link" ng-class="{'whiteText': user.userType === '2'}" data-toggle="modal" data-target="#crudUserModal" ng-click="launchEditUserModal($index)">Edit</a>
                            <a href="#" class="card-link" ng-class="{'whiteText': user.userType === '2'}" ng-click="toggleUserStudent($index)">Make {{user.userType === '1' ? 'Admin' : 'Student'}}</a>
                            <a href="#" class="card-link" ng-class="{'whiteText': user.userType === '2'}" ng-click="">Delete</a>
                        </div>
                    </div>
                    <div class="hidden-md hidden-lg hidden-xl"><br/></div>
                </div>
            </div>
        </div>
        <div ng-show="currentTab == 3">
            <div class="grid row equal">
                <div class="col-sm-12">
                    <table style="width: 100%;">
                        <tr>
                            <td style="width: 100%;">
                                <div class="input-group mb-3" style="margin-bottom: 0 !important;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="searchEventsLabel">
                                            <svg class="bi bi-search" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z" clip-rule="evenodd"/>
                                              <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" clip-rule="evenodd"/>
                                            </svg>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="searchEvents" ng-model="eventsQuery" placeholder="Search for Events">
                                </div>
                            </td>
                            <td style="width: auto;">
                                <button type="button" id="showArchivedEvents" class="btn btn-outline-primary" ng-click="toggleShowArchivedEvents()">{{showArchivedEvents ? 'Hide': 'Show'}} Archived Events</button>
                            </td>
                            <td style="width: auto;">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#crudEventModal" ng-click="launchCreateEventModal()">Create Event</button>
                            </td>
                        </tr>
                    </table>
                    <div class="modal fade" id="crudEventModal" tabindex="-1" role="dialog" aria-labelledby="crudEventModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="crudEventModalTitle">{{crudStates.event}} Event: {{new.event.name}}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form>
                                        <div class="form-group">
                                            <label for="eventName">Name</label>
                                            <input type="name" ng-model="new.event.name" class="form-control" id="eventName" placeholder="e.g. Unit 1 Lesson 1 Call - Cohort 1">
                                        </div>
                                        <div class="form-group">
                                            <label for="eventLink">Link</label>
                                            <input type="url" ng-model="new.event.link" class="form-control" id="eventLink" placeholder="e.g. https://meet.google.com/j4E8Al">
                                        </div>
                                        <div class="form-group">
                                            <label for="eventDescription">Description</label>
                                            <textarea class="form-control" ng-model="new.event.description" id="eventDescription" rows="3" placeholder="e.g. This call is about lesson 1, where we learn variables interactively."></textarea>
                                        </div>
                                        <div class="form-group">
                                            <label for="eventTime">Date & Time</label>
                                            <input type="datetime-local" ng-model="new.event.time" class="form-control" id="eventTime" placeholder="Select a data and time">
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" ng-click="clearCrudEventModal()" class="btn btn-secondary" data-dismiss="modal">Clear</button>
                                    <button type="button" ng-click="crudEvent()" class="btn btn-primary" data-dismiss="modal">{{crudStates.event}} Event</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                </div>
                <div class="col-md-6 col-lg-4 d-flex pb-3" ng-repeat="event in events" ng-hide="(event.archived && !showArchivedEvents) || (!event.name.toLowerCase().includes(eventsQuery.toLowerCase()) && !event.description.toLowerCase().includes(eventsQuery.toLowerCase()) && eventsQuery)">
                    <div class="card eventCard" ng-class="{'archivedCard': event.archived}">
                        <div class="card-body">
                            <h5 class="card-title">
                                <span>
                                    {{event.name}}
                                    <a href="{{event.link}}" target="_blank">
                                        <svg class="bi bi-link" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path d="M6.354 5.5H4a3 3 0 000 6h3a3 3 0 002.83-4H9c-.086 0-.17.01-.25.031A2 2 0 017 10.5H4a2 2 0 110-4h1.535c.218-.376.495-.714.82-1z"/>
                                          <path d="M6.764 6.5H7c.364 0 .706.097 1 .268A1.99 1.99 0 019 6.5h.236A3.004 3.004 0 008 5.67a3 3 0 00-1.236.83z"/>
                                          <path d="M9 5.5a3 3 0 00-2.83 4h1.098A2 2 0 019 6.5h3a2 2 0 110 4h-1.535a4.02 4.02 0 01-.82 1H12a3 3 0 100-6H9z"/>
                                          <path d="M8 11.33a3.01 3.01 0 001.236-.83H9a1.99 1.99 0 01-1-.268 1.99 1.99 0 01-1 .268h-.236c.332.371.756.66 1.236.83z"/>
                                        </svg>
                                    </a>
                                </span>
                            </h5>
                            <h6 class="card-subtitle mb-2 text-muted"><b>Time</b>: {{event.time | date: 'MMM d, yyyy @ h:mm a'}}</h6>
                            <p class="card-text">{{event.description}}</p>
                            <div style="visibility: hidden;">
                                <a class="card-link">Filler</a>
                            </div>
                            <div class="eventActions">
                                <a href="#" class="card-link" data-toggle="modal" data-target="#crudEventModal" ng-click="launchEditEventModal($index)">Edit</a>
                                <a href="#" class="card-link" ng-click="toggleEventArchived($index)">{{event.archived ? "Unarchive" : "Archive"}}</a>
                                <a href="#" class="card-link" ng-click="deleteEvent($index)">Delete</a>
                            </div>
                        </div>
                    </div>
                    <div class="hidden-md hidden-lg hidden-xl"><br/></div>
                </div>
            </div>
        </div>
        <div ng-show="currentTab == 4">
            e
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.9/angular.min.js" integrity="sha256-b5NvmvUcyr0wpBOLnNbaWH5zKQAivhj8yMYhfXEumQA=" crossorigin="anonymous"></script>

    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.1/firebase-firestore.js"></script>

    <script src="admin.js"></script>
</body>
</html>